<form class="search-form d-flex align-items-center" (ngSubmit)="submitSearch()" style="margin-top:15px">
  <input
    type="text"
    class="form-control me-2"
    placeholder="Search by keyword..."
    [(ngModel)]="searchQuery"
    name="searchQuery"
    (input)="onInputChange()"
  />
  <input
    type="text"
    class="form-control me-2"
    placeholder="Search by session ID..."
    [(ngModel)]="searchSessionId"
    name="searchSessionId"
    (input)="onInputChange()"
  />
  <button class="btn btn-primary" type="submit">Search</button>
</form>

<!-- Search Results -->
<div *ngIf="searchSubmitted && (results.length > 0 || !loading)" class="search-results mt-3 position-relative p-3 border rounded search-results-bg">

  <!-- Close Button -->
  <button type="button" class="btn-close position-absolute top-0 end-0 m-2" (click)="clearSearch()"></button>

  <!-- Loading -->
  <div *ngIf="loading">Searching...</div>

  <!-- Results -->
  <div *ngFor="let msg of results" class="result-item p-2 mb-2 border rounded">
    <div><strong>Sender:</strong> {{ msg.sender }}</div>
    <div><strong>Message:</strong> {{ msg.content }}</div>
    <div *ngIf="msg.context"><strong>Context:</strong> {{ msg.context }}</div>
    <div class="text-muted"><small>{{ msg.createdAt | date:'short' }}</small></div>
  </div>

  <!-- No Results -->
  <div *ngIf="!loading && results.length === 0">
    <p>No results found.</p>
  </div>
</div>
